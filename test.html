<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <form action="test.html">
    帳號:
    <input type="text" class="account" name="account">
    <br>
    密碼:
    <input type="password" class="password" name="password">
    <br>
    <input type="submit" class="send" value="Send">
  </form>

  <script>
    const url = 'https://hexschool-tutorial.herokuapp.com/api/signup';
    const send = document.querySelector('.send');

    send.addEventListener('click', fetchFun);
    function fetchFun(e) {
      e.preventDefault();
      const account = document.querySelector('.account').value;
      const password = document.querySelector('.password').value;
      const obj = {};
      obj.email = account;
      obj.password = password;

      // 取得資料
      fetch(url, {
        body: JSON.stringify(obj),
        headers: {
          'content-type': 'application/json'
        },
        method: 'POST',
      })
        .then(res => {
          return res.json();
        })
        .then(res => {
          console.log(res);
          // alert(res.message);
        }).catch((err) => {
          console.log('錯誤:', err);
        });
    }

  </script>
</body>

</html>